function prob = Exploration_Exploitation_Prob(q_values,epsilon)
prob(1,1:4) = Inf;
% Find the maxium of Q values
max_value= max(q_values);
max_value_idx = find(max_value == q_values);

if size(max_value_idx,2) == 1
    % unique max q value
    max_q_idx=max_value_idx;
else
    % 2 or more actions with same max q value
    pos = randi(length(max_value_idx));
    max_q_idx = max_value_idx(1,pos);
end

% Find the wall
wall= find(-999999 == q_values);
prob(1, wall) = 0; %#ok<FNDSB>

% Set the exploitation probility
prob(1,max_q_idx) = 1 - epsilon;

% Set the exploration probility
exporation = find(inf == prob);
prob(1,exporation) = epsilon / length(exporation);
end